<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - UserControllerTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>UserControllerTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.pibbletv.user_service.integration.html">com.pibbletv.user_service.integration</a> &gt; UserControllerTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">15</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">13</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">0.756s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox failures" id="successRate">
<div class="percent">13%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div class="tab-container">
<ul class="tabLinks">
<li>
<a href="#">Failed tests</a>
</li>
<li>
<a href="#">Tests</a>
</li>
<li>
<a href="#">Standard output</a>
</li>
</ul>
<div class="tab">
<h2>Failed tests</h2>
<div class="test">
<a name="testBanUser_shouldReturnBadRequest_whenUserAlreadyBanned()"></a>
<h3 class="failures">testBanUser_shouldReturnBadRequest_whenUserAlreadyBanned()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;400 BAD_REQUEST&gt; but was:&lt;403 FORBIDDEN&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isBadRequest(StatusAssertions.java:131)
	at com.pibbletv.user_service.integration.UserControllerTest.testBanUser_shouldReturnBadRequest_whenUserAlreadyBanned(UserControllerTest.java:171)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testBanUser_shouldReturnBadRequest_whenUserNotFound()"></a>
<h3 class="failures">testBanUser_shouldReturnBadRequest_whenUserNotFound()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;400 BAD_REQUEST&gt; but was:&lt;403 FORBIDDEN&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isBadRequest(StatusAssertions.java:131)
	at com.pibbletv.user_service.integration.UserControllerTest.testBanUser_shouldReturnBadRequest_whenUserNotFound(UserControllerTest.java:185)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testBanUser_shouldReturnOk_whenUserIsFoundAndNotBanned()"></a>
<h3 class="failures">testBanUser_shouldReturnOk_whenUserIsFoundAndNotBanned()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;403 FORBIDDEN&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.pibbletv.user_service.integration.UserControllerTest.testBanUser_shouldReturnOk_whenUserIsFoundAndNotBanned(UserControllerTest.java:155)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testGetUser_shouldReturnNotFound_whenUserDoesNotExist()"></a>
<h3 class="failures">testGetUser_shouldReturnNotFound_whenUserDoesNotExist()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;404 NOT_FOUND&gt; but was:&lt;401 UNAUTHORIZED&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isNotFound(StatusAssertions.java:153)
	at com.pibbletv.user_service.integration.UserControllerTest.testGetUser_shouldReturnNotFound_whenUserDoesNotExist(UserControllerTest.java:279)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testGetUser_shouldReturnUser_whenFound()"></a>
<h3 class="failures">testGetUser_shouldReturnUser_whenFound()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;401 UNAUTHORIZED&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.pibbletv.user_service.integration.UserControllerTest.testGetUser_shouldReturnUser_whenFound(UserControllerTest.java:264)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testSaveUser_shouldReturnBadRequest_whenUserAlreadyExists()"></a>
<h3 class="failures">testSaveUser_shouldReturnBadRequest_whenUserAlreadyExists()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;400 BAD_REQUEST&gt; but was:&lt;403 FORBIDDEN&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isBadRequest(StatusAssertions.java:131)
	at com.pibbletv.user_service.integration.UserControllerTest.testSaveUser_shouldReturnBadRequest_whenUserAlreadyExists(UserControllerTest.java:93)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testSaveUser_shouldReturnOk_whenUserIsSavedSuccessfully()"></a>
<h3 class="failures">testSaveUser_shouldReturnOk_whenUserIsSavedSuccessfully()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;403 FORBIDDEN&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.pibbletv.user_service.integration.UserControllerTest.testSaveUser_shouldReturnOk_whenUserIsSavedSuccessfully(UserControllerTest.java:76)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testUnbanUser_shouldReturnBadRequest_whenUserIsNotBanned()"></a>
<h3 class="failures">testUnbanUser_shouldReturnBadRequest_whenUserIsNotBanned()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;400 BAD_REQUEST&gt; but was:&lt;403 FORBIDDEN&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isBadRequest(StatusAssertions.java:131)
	at com.pibbletv.user_service.integration.UserControllerTest.testUnbanUser_shouldReturnBadRequest_whenUserIsNotBanned(UserControllerTest.java:226)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testUnbanUser_shouldReturnBadRequest_whenUserNotFound()"></a>
<h3 class="failures">testUnbanUser_shouldReturnBadRequest_whenUserNotFound()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;400 BAD_REQUEST&gt; but was:&lt;403 FORBIDDEN&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isBadRequest(StatusAssertions.java:131)
	at com.pibbletv.user_service.integration.UserControllerTest.testUnbanUser_shouldReturnBadRequest_whenUserNotFound(UserControllerTest.java:240)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testUnbanUser_shouldReturnOk_whenUserIsBanned()"></a>
<h3 class="failures">testUnbanUser_shouldReturnOk_whenUserIsBanned()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;403 FORBIDDEN&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.pibbletv.user_service.integration.UserControllerTest.testUnbanUser_shouldReturnOk_whenUserIsBanned(UserControllerTest.java:210)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testUpdateUser_shouldReturnBadRequest_whenUserDoesNotExist()"></a>
<h3 class="failures">testUpdateUser_shouldReturnBadRequest_whenUserDoesNotExist()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;400 BAD_REQUEST&gt; but was:&lt;403 FORBIDDEN&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isBadRequest(StatusAssertions.java:131)
	at com.pibbletv.user_service.integration.UserControllerTest.testUpdateUser_shouldReturnBadRequest_whenUserDoesNotExist(UserControllerTest.java:138)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testUpdateUser_shouldReturnBadRequest_whenUserIdIsNull()"></a>
<h3 class="failures">testUpdateUser_shouldReturnBadRequest_whenUserIdIsNull()</h3>
<span class="code">
<pre>org.mockito.exceptions.misusing.MissingMethodInvocationException: 
when() requires an argument which has to be 'a method call on a mock'.
For example:
    when(mock.getArticles()).thenReturn(articles);

Also, this error might show up because:
1. you stub either of: final/private/native/equals()/hashCode() methods.
   Those methods *cannot* be stubbed/verified.
   Mocking methods declared on non-public parent classes is not supported.
2. inside when() you don't call method on mock but on some other object.

	at app//com.pibbletv.user_service.integration.UserControllerTest.testUpdateUser_shouldReturnBadRequest_whenUserIdIsNull(UserControllerTest.java:116)
	at java.base@17.0.14/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base@17.0.14/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base@17.0.14/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testUpdateUser_shouldReturnOk_whenUserExists()"></a>
<h3 class="failures">testUpdateUser_shouldReturnOk_whenUserExists()</h3>
<span class="code">
<pre>java.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;403 FORBIDDEN&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:232)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.pibbletv.user_service.integration.UserControllerTest.testUpdateUser_shouldReturnOk_whenUserExists(UserControllerTest.java:109)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
</div>
<div class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="failures">testBanUser_shouldReturnBadRequest_whenUserAlreadyBanned()</td>
<td class="failures">0.013s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">testBanUser_shouldReturnBadRequest_whenUserNotFound()</td>
<td class="failures">0.014s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="success">testBanUser_shouldReturnForbidden_whenUserIsNotAdmin()</td>
<td class="success">0.009s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="failures">testBanUser_shouldReturnOk_whenUserIsFoundAndNotBanned()</td>
<td class="failures">0.013s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">testGetUser_shouldReturnNotFound_whenUserDoesNotExist()</td>
<td class="failures">0.017s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">testGetUser_shouldReturnUser_whenFound()</td>
<td class="failures">0.090s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">testSaveUser_shouldReturnBadRequest_whenUserAlreadyExists()</td>
<td class="failures">0.016s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">testSaveUser_shouldReturnOk_whenUserIsSavedSuccessfully()</td>
<td class="failures">0.015s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">testUnbanUser_shouldReturnBadRequest_whenUserIsNotBanned()</td>
<td class="failures">0.013s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">testUnbanUser_shouldReturnBadRequest_whenUserNotFound()</td>
<td class="failures">0.401s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="success">testUnbanUser_shouldReturnForbidden_whenUserIsNotAdmin()</td>
<td class="success">0.010s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="failures">testUnbanUser_shouldReturnOk_whenUserIsBanned()</td>
<td class="failures">0.017s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">testUpdateUser_shouldReturnBadRequest_whenUserDoesNotExist()</td>
<td class="failures">0.093s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">testUpdateUser_shouldReturnBadRequest_whenUserIdIsNull()</td>
<td class="failures">0.021s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">testUpdateUser_shouldReturnOk_whenUserExists()</td>
<td class="failures">0.014s</td>
<td class="failures">failed</td>
</tr>
</table>
</div>
<div class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>02:40:18.724 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.pibbletv.user_service.integration.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
02:40:19.003 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.pibbletv.user_service.UserServiceApplication for test class com.pibbletv.user_service.integration.UserControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.4)

2025-05-10T02:40:23.040+02:00  INFO 8148 --- [user-service] [    Test worker] c.p.u.integration.UserControllerTest     : Starting UserControllerTest using Java 17.0.14 with PID 8148 (started by hristo in D:\Individual Assignment\PibbleTV-Backend\user-service)
2025-05-10T02:40:23.042+02:00  INFO 8148 --- [user-service] [    Test worker] c.p.u.integration.UserControllerTest     : The following 1 profile is active: &quot;dev&quot;
2025-05-10T02:40:24.610+02:00  INFO 8148 --- [user-service] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-10T02:40:25.002+02:00  INFO 8148 --- [user-service] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 372 ms. Found 1 R2DBC repository interface.
2025-05-10T02:40:25.353+02:00  INFO 8148 --- [user-service] [    Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6c488507-583e-30e1-ba8e-51f6189a64b3
2025-05-10T02:40:27.423+02:00  INFO 8148 --- [user-service] [    Test worker] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 21b8e425-bdbb-457e-b212-442556a5d9ba

2025-05-10T02:40:28.327+02:00  INFO 8148 --- [user-service] [    Test worker] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-10T02:40:28.582+02:00  WARN 8148 --- [user-service] [    Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-10T02:40:28.654+02:00  INFO 8148 --- [user-service] [    Test worker] c.p.u.integration.UserControllerTest     : Started UserControllerTest in 6.783 seconds (process running for 12.265)
2025-05-10T02:40:29.033+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; PUT /user/unbanUser?username=nonExistentUser
&gt; WebTestClient-Request-Id: [1]

No content

&lt; 403 FORBIDDEN Forbidden
&lt; Content-Type: [text/plain]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

An expected CSRF token cannot be found

2025-05-10T02:40:29.160+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; PUT /user/updateUser
&gt; WebTestClient-Request-Id: [2]
&gt; Content-Type: [application/json]
&gt; Content-Length: [94]

{&quot;id&quot;:99,&quot;username&quot;:&quot;nonExistingUser&quot;,&quot;bgImage&quot;:&quot;AQID&quot;,&quot;profileImage&quot;:&quot;AQID&quot;,&quot;isBanned&quot;:false}

&lt; 403 FORBIDDEN Forbidden
&lt; Content-Type: [text/plain]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

An expected CSRF token cannot be found

2025-05-10T02:40:29.273+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; GET /user/getUser?username=existingUser
&gt; WebTestClient-Request-Id: [3]

No content

&lt; 401 UNAUTHORIZED Unauthorized
&lt; WWW-Authenticate: [Basic realm=&quot;Realm&quot;]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

0 bytes of content (unknown content-type).

2025-05-10T02:40:29.297+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; PUT /user/unbanUser?username=bannedUser
&gt; WebTestClient-Request-Id: [4]

No content

&lt; 403 FORBIDDEN Forbidden
&lt; Content-Type: [text/plain]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

An expected CSRF token cannot be found

2025-05-10T02:40:29.316+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; POST /user/addUser?username=testUser
&gt; WebTestClient-Request-Id: [5]

No content

&lt; 403 FORBIDDEN Forbidden
&lt; Content-Type: [text/plain]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

An expected CSRF token cannot be found

2025-05-10T02:40:29.334+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; POST /user/addUser?username=testUser
&gt; WebTestClient-Request-Id: [6]

No content

&lt; 403 FORBIDDEN Forbidden
&lt; Content-Type: [text/plain]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

An expected CSRF token cannot be found

2025-05-10T02:40:29.353+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; PUT /user/banUser?username=nonExistentUser
&gt; WebTestClient-Request-Id: [7]

No content

&lt; 403 FORBIDDEN Forbidden
&lt; Content-Type: [text/plain]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

An expected CSRF token cannot be found

2025-05-10T02:40:29.384+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; PUT /user/banUser?username=alreadyBannedUser
&gt; WebTestClient-Request-Id: [9]

No content

&lt; 403 FORBIDDEN Forbidden
&lt; Content-Type: [text/plain]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

An expected CSRF token cannot be found

2025-05-10T02:40:29.400+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; PUT /user/banUser?username=userToBan
&gt; WebTestClient-Request-Id: [10]

No content

&lt; 403 FORBIDDEN Forbidden
&lt; Content-Type: [text/plain]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

An expected CSRF token cannot be found

2025-05-10T02:40:29.428+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; PUT /user/unbanUser?username=notBannedUser
&gt; WebTestClient-Request-Id: [12]

No content

&lt; 403 FORBIDDEN Forbidden
&lt; Content-Type: [text/plain]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

An expected CSRF token cannot be found

2025-05-10T02:40:29.445+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; PUT /user/updateUser
&gt; WebTestClient-Request-Id: [13]
&gt; Content-Type: [application/json]
&gt; Content-Length: [89]

{&quot;id&quot;:1,&quot;username&quot;:&quot;updatedUser&quot;,&quot;bgImage&quot;:&quot;AQID&quot;,&quot;profileImage&quot;:&quot;AQID&quot;,&quot;isBanned&quot;:false}

&lt; 403 FORBIDDEN Forbidden
&lt; Content-Type: [text/plain]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

An expected CSRF token cannot be found

2025-05-10T02:40:29.464+02:00 ERROR 8148 --- [user-service] [    Test worker] o.s.t.w.reactive.server.ExchangeResult   : Request details for assertion failure:

&gt; GET /user/getUser?username=nonExistingUser
&gt; WebTestClient-Request-Id: [14]

No content

&lt; 401 UNAUTHORIZED Unauthorized
&lt; WWW-Authenticate: [Basic realm=&quot;Realm&quot;]
&lt; Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
&lt; Pragma: [no-cache]
&lt; Expires: [0]
&lt; X-Content-Type-Options: [nosniff]
&lt; X-Frame-Options: [DENY]
&lt; X-XSS-Protection: [0]
&lt; Referrer-Policy: [no-referrer]

0 bytes of content (unknown content-type).

</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="https://www.gradle.org">Gradle 8.13</a> at May 10, 2025, 2:40:29 AM</p>
</div>
</div>
</body>
</html>
